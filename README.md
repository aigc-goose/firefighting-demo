# 智慧城市事件上报系统

这是一个基于Vue3 + TypeScript + Element Plus的智慧城市突发事件多人同诉上报系统DEMO。

## 系统功能

### 🔐 用户角色
- **普通用户**: 可以上报突发事件，查看自己的上报记录
- **消防员**: 可以查看实时事件、处理零星事件、管理同诉事件、查看数据分析

### 📋 主要功能

#### 普通用户功能
- **事件上报**: 支持7种事件类型（火灾、洪灾、泥石流、交通事故、建筑倒塌、燃气泄漏、其他）
- **位置定位**: 支持自动获取GPS位置或手动输入地址
- **多媒体上传**: 支持图片、视频、音频文件上传
- **语音输入**: 支持语音转文字功能（开发中）
- **我的上报**: 查看个人上报历史和处理状态

#### 消防员功能
- **实时监控**: 显示最新10条事件的实时滚动展示
- **零星事件**: 查看和处理独立发生的突发事件
- **同诉事件**: 管理多人针对同一事件的上报记录，包含AI智能分析
- **数据分析**: 查看统计报表和事件分布热力图

### 🚀 技术特性
- 支持同一浏览器多角色登录（不同角色使用不同token）
- 角色权限控制和路由守卫
- 响应式设计，支持多设备访问
- 模拟数据展示，方便后续API对接

## 演示账号

### 普通用户
- 用户名: `user001`
- 密码: `123456`
- 角色: 普通用户

### 消防员
- 用户名: `firefighter001`  
- 密码: `123456`
- 角色: 消防员

## 安装和运行

### 环境要求
- Node.js >= 16
- npm 或 pnpm

### 安装依赖
```bash
npm install
# 或
pnpm install
```

### 开发运行
```bash
npm run dev
# 或
pnpm dev
```

### 构建生产版本
```bash
npm run build
# 或  
pnpm build
```

## 项目结构

```
src/
├── views/                    # 页面组件
│   ├── Login.vue            # 登录页面
│   ├── citizen/             # 普通用户页面
│   │   ├── EventReport.vue  # 事件上报
│   │   └── MyReports.vue    # 我的上报
│   ├── firefighter/         # 消防员页面
│   │   ├── Dashboard.vue    # 实时监控
│   │   ├── SingleEvents.vue # 零星事件
│   │   ├── RelatedEvents.vue# 同诉事件  
│   │   └── Analytics.vue    # 数据分析
│   └── main/                # 主页面布局
├── components/              # 通用组件
├── store/                   # 状态管理
│   └── modules/
│       └── auth.ts         # 认证模块
├── router/                  # 路由配置
├── data/                    # 模拟数据
│   └── mock.ts             # 事件和用户数据
├── types/                   # TypeScript类型定义
├── utils/                   # 工具函数
└── assets/                  # 静态资源
```

## 核心功能说明

### 1. 角色权限系统
- 支持普通用户和消防员两种角色
- 不同角色token分别存储，支持同浏览器多角色登录
- 路由守卫确保页面访问权限

### 2. 事件上报流程
1. 选择事件分类（7种类型）
2. 输入/获取事件位置
3. 填写联系方式和事件描述
4. 上传相关媒体文件
5. 提交上报

### 3. 同诉事件处理
- 自动识别相同位置/时间的多个上报
- AI智能分析事件严重程度
- 提供处理建议
- 统一更新关联事件状态

### 4. 实时监控
- 10秒自动刷新最新事件
- 事件严重程度可视化显示
- 支持快速处理和状态更新

## 后续开发建议

1. **API对接**: 将模拟数据替换为真实的后端API
2. **地图集成**: 集成高德地图或百度地图进行位置展示
3. **实时通信**: 使用WebSocket实现真正的实时事件推送
4. **数据可视化**: 使用ECharts实现统计图表
5. **语音识别**: 集成语音转文字API
6. **消息推送**: 添加事件处理状态变更通知
7. **移动端适配**: 优化移动设备体验

## 技术栈

- **前端框架**: Vue 3 + TypeScript
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router 4
- **构建工具**: Vite
- **样式**: CSS3 + Tailwind CSS
- **开发工具**: ESLint + Prettier + Husky